<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PC 부품 가격 계산기</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background-color: #f9fafb;
            padding: 2rem;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            border: 1px solid #e5e7eb;
        }

        .header {
            padding: 2rem;
            border-bottom: 1px solid #e5e7eb;
        }

        .header h1 {
            font-size: 1.5rem;
            font-weight: 600;
            color: #111827;
            margin-bottom: 0.5rem;
        }

        .header p {
            font-size: 0.875rem;
            color: #6b7280;
        }

        .content {
            padding: 2rem;
        }

        .filter-section {
            margin-bottom: 2rem;
        }

        .filter-label {
            font-size: 0.875rem;
            font-weight: 500;
            color: #374151;
            margin-bottom: 0.5rem;
            display: block;
        }

        .category-select {
            width: 100%;
            max-width: 300px;
            padding: 0.75rem 1rem;
            font-size: 1rem;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            background-color: white;
            cursor: pointer;
            transition: border-color 0.2s;
        }

        .category-select:hover {
            border-color: #9ca3af;
        }

        .category-select:focus {
            outline: none;
            border-color: #111827;
        }

        .summary {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-bottom: 1.5rem;
            margin-bottom: 2rem;
            border-bottom: 1px solid #e5e7eb;
        }

        .summary-item {
            text-align: left;
        }

        .summary-item:last-child {
            text-align: right;
        }

        .summary-label {
            font-size: 0.875rem;
            color: #6b7280;
            margin-bottom: 0.25rem;
        }

        .summary-value {
            font-size: 1.875rem;
            font-weight: 600;
            color: #111827;
        }

        .parts-list {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .category-section {
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            overflow: hidden;
        }

        .category-header {
            background-color: #f9fafb;
            padding: 1rem 1.5rem;
            border-bottom: 1px solid #e5e7eb;
        }

        .category-title {
            font-size: 1.125rem;
            font-weight: 600;
            color: #111827;
        }

        .category-items {
            display: flex;
            flex-direction: column;
        }

        .part-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem 1.5rem;
            cursor: pointer;
            transition: background-color 0.2s;
            border-bottom: 1px solid #f3f4f6;
        }

        .part-item:last-child {
            border-bottom: none;
        }

        .part-item:hover {
            background-color: #f9fafb;
        }

        .part-item.selected {
            background-color: #f0fdf4;
        }

        .checkbox {
            width: 20px;
            height: 20px;
            border: 2px solid #d1d5db;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            transition: all 0.2s;
        }

        .part-item.selected .checkbox {
            background-color: #000;
            border-color: #000;
        }

        .checkbox svg {
            display: none;
            width: 14px;
            height: 14px;
            stroke: white;
            stroke-width: 3;
        }

        .part-item.selected .checkbox svg {
            display: block;
        }

        .part-info {
            flex: 1;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .part-name {
            font-size: 1rem;
            color: #111827;
        }

        .part-category {
            padding: 0.25rem 0.625rem;
            background-color: #f3f4f6;
            color: #6b7280;
            border-radius: 4px;
            font-size: 0.75rem;
        }

        .part-price {
            font-size: 1rem;
            font-weight: 500;
            color: #111827;
        }

        .selected-parts-section {
            margin-top: 2rem;
            padding-top: 2rem;
            border-top: 1px solid #e5e7eb;
        }

        .selected-parts-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: #111827;
            margin-bottom: 1rem;
        }

        .selected-parts-list {
            background-color: #f9fafb;
            border-radius: 8px;
            padding: 1.5rem;
        }

        .selected-part-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem 0;
            border-bottom: 1px solid #e5e7eb;
        }

        .selected-part-item:last-child {
            border-bottom: none;
        }

        .selected-part-name {
            font-size: 0.9375rem;
            color: #111827;
        }

        .selected-part-price {
            font-size: 0.9375rem;
            font-weight: 500;
            color: #6b7280;
        }

        .selected-total {
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 2px solid #111827;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .selected-total-label {
            font-size: 1.125rem;
            font-weight: 600;
            color: #111827;
        }

        .selected-total-price {
            font-size: 1.5rem;
            font-weight: 700;
            color: #111827;
        }

        .empty-message {
            text-align: center;
            color: #9ca3af;
            padding: 2rem;
            font-size: 0.875rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>부품별 가격 (중고 최저가 기준)</h1>
            <p>승격 표시 또는 숨기기</p>
        </div>

        <div class="content">
            <div class="filter-section">
                <label class="filter-label">카테고리 선택</label>
                <select id="categoryFilter" class="category-select">
                    <option value="all">전체 보기</option>
                    <option value="CPU">CPU</option>
                    <option value="메인보드">메인보드</option>
                    <option value="RAM">RAM</option>
                    <option value="그래픽카드">그래픽카드</option>
                    <option value="저장장치">저장장치</option>
                    <option value="파워">파워</option>
                    <option value="케이스">케이스</option>
                    <option value="쿨러">쿨러</option>
                </select>
            </div>

            <div class="summary">
                <div class="summary-item">
                    <div class="summary-label">총 견적 가격</div>
                    <div class="summary-value" id="totalPrice">₩0</div>
                </div>
                <div class="summary-item">
                    <div class="summary-label">선택된 부품</div>
                    <div class="summary-value" id="selectedCount">0개</div>
                </div>
            </div>

            <div class="parts-list" id="partsList"></div>

            <div class="selected-parts-section">
                <h2 class="selected-parts-title">최종 선택 목록</h2>
                <div class="selected-parts-list" id="selectedPartsList">
                    <div class="empty-message">선택된 부품이 없습니다</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        var PARTS_DATA = [
            // CPU
            { id: 1, name: 'AMD 라이젠5 7500F', price: 130000, category: ['CPU'], selected: false },
            { id: 2, name: 'AMD 라이젠7 7700', price: 280000, category: ['CPU'], selected: false },
            { id: 3, name: 'AMD 라이젠7 7800X3D', price: 480000, category: ['CPU'], selected: false },
            { id: 4, name: 'AMD 라이젠9 7950X3D', price: 500000, category: ['CPU'], selected: false },
            { id: 5, name: 'Intel i5-14400F', price: 180000, category: ['CPU'], selected: false },
            { id: 6, name: 'Intel i7-14700K', price: 450000, category: ['CPU'], selected: false },
            
            // 메인보드
            { id: 10, name: '기가바이트 B650M Gaming X AX', price: 80000, category: ['메인보드'], selected: false },
            { id: 11, name: 'ASUS TUF Gaming B650-PLUS', price: 220000, category: ['메인보드'], selected: false },
            { id: 12, name: 'MSI B650 Tomahawk WiFi', price: 250000, category: ['메인보드'], selected: false },
            { id: 13, name: 'ASUS ROG STRIX X670E-E', price: 580000, category: ['메인보드'], selected: false },
            
            // RAM
            { id: 20, name: 'DDR5 5600MHz 16GB (8GBx2)', price: 120000, category: ['RAM'], selected: false },
            { id: 21, name: 'DDR5 5600MHz 32GB (16GBx2)', price: 230000, category: ['RAM'], selected: false },
            { id: 22, name: 'DDR5 6000MHz 32GB (16GBx2)', price: 280000, category: ['RAM'], selected: false },
            { id: 23, name: 'DDR5 6400MHz 64GB (32GBx2)', price: 550000, category: ['RAM'], selected: false },
            
            // 그래픽카드
            { id: 30, name: 'RTX 4060 8GB', price: 320000, category: ['그래픽카드'], selected: false },
            { id: 31, name: 'RTX 4060 Ti 16GB', price: 480000, category: ['그래픽카드'], selected: false },
            { id: 32, name: 'RTX 4070 SUPER 12GB', price: 550000, category: ['그래픽카드'], selected: false },
            { id: 33, name: 'RTX 4070 Ti SUPER 16GB', price: 800000, category: ['그래픽카드'], selected: false },
            { id: 34, name: 'RTX 4080 16GB', price: 950000, category: ['그래픽카드'], selected: false },
            { id: 35, name: 'RTX 4080 SUPER 16GB', price: 1100000, category: ['그래픽카드'], selected: false },
            { id: 36, name: 'RTX 4090 24GB', price: 2200000, category: ['그래픽카드'], selected: false },
            { id: 37, name: 'AMD RX 7800 XT 16GB', price: 550000, category: ['그래픽카드'], selected: false },
            { id: 38, name: 'AMD RX 7900 XTX 24GB', price: 980000, category: ['그래픽카드'], selected: false },
            
            // SSD (저장장치)
            { id: 40, name: 'Samsung 990 PRO 1TB NVMe', price: 110000, category: ['저장장치'], selected: false },
            { id: 41, name: 'Samsung 990 PRO 2TB NVMe', price: 200000, category: ['저장장치'], selected: false },
            { id: 42, name: 'WD Black SN850X 1TB NVMe', price: 100000, category: ['저장장치'], selected: false },
            { id: 43, name: 'WD Black SN850X 2TB NVMe', price: 180000, category: ['저장장치'], selected: false },
            { id: 44, name: 'Crucial P5 Plus 1TB NVMe', price: 80000, category: ['저장장치'], selected: false },
            { id: 45, name: 'Crucial P5 Plus 2TB NVMe', price: 150000, category: ['저장장치'], selected: false },
            
            // 파워서플라이
            { id: 50, name: 'Corsair RM750e 750W 80+ Gold', price: 110000, category: ['파워'], selected: false },
            { id: 51, name: 'Seasonic Focus GX-850 850W 80+ Gold', price: 150000, category: ['파워'], selected: false },
            { id: 52, name: 'Corsair RM1000e 1000W 80+ Gold', price: 180000, category: ['파워'], selected: false },
            { id: 53, name: 'EVGA SuperNOVA 850 G6 850W 80+ Gold', price: 160000, category: ['파워'], selected: false },
            { id: 54, name: 'Seasonic Prime TX-1000 1000W 80+ Titanium', price: 320000, category: ['파워'], selected: false },
            
            // 케이스
            { id: 60, name: 'NZXT H510 Flow', price: 100000, category: ['케이스'], selected: false },
            { id: 61, name: 'Fractal Design Meshify C', price: 110000, category: ['케이스'], selected: false },
            { id: 62, name: 'Lian Li O11 Dynamic', price: 150000, category: ['케이스'], selected: false },
            { id: 63, name: 'Corsair 4000D Airflow', price: 120000, category: ['케이스'], selected: false },
            { id: 64, name: 'be quiet! Pure Base 500DX', price: 130000, category: ['케이스'], selected: false },
            
            // CPU 쿨러
            { id: 70, name: 'Thermalright Peerless Assassin 120', price: 40000, category: ['쿨러'], selected: false },
            { id: 71, name: 'Noctua NH-D15', price: 120000, category: ['쿨러'], selected: false },
            { id: 72, name: 'be quiet! Dark Rock Pro 4', price: 100000, category: ['쿨러'], selected: false },
            { id: 73, name: 'NZXT Kraken X63 280mm 수랭', price: 180000, category: ['쿨러'], selected: false },
            { id: 74, name: 'Corsair iCUE H150i Elite 360mm 수랭', price: 250000, category: ['쿨러'], selected: false },
            { id: 75, name: 'Arctic Liquid Freezer II 280', price: 140000, category: ['쿨러'], selected: false }
        ];

        var parts = PARTS_DATA.slice();
        var currentFilter = 'all';

        function formatPrice(price) {
            return '₩' + price.toLocaleString('ko-KR');
        }

        function setFilter(category) {
            currentFilter = category;
            renderParts();
        }

        function updateSummary() {
            var selectedParts = parts.filter(function(part) {
                return part.selected;
            });
            var totalPrice = selectedParts.reduce(function(sum, part) {
                return sum + part.price;
            }, 0);
            
            document.getElementById('totalPrice').textContent = formatPrice(totalPrice);
            document.getElementById('selectedCount').textContent = selectedParts.length + '개';
            
            updateSelectedPartsList(selectedParts);
        }

        function updateSelectedPartsList(selectedParts) {
            var selectedPartsListDiv = document.getElementById('selectedPartsList');
            
            if (selectedParts.length === 0) {
                selectedPartsListDiv.innerHTML = '<div class="empty-message">선택된 부품이 없습니다</div>';
                return;
            }
            
            var totalPrice = selectedParts.reduce(function(sum, part) {
                return sum + part.price;
            }, 0);
            
            selectedPartsListDiv.innerHTML = '';
            
            selectedParts.forEach(function(part) {
                var item = document.createElement('div');
                item.className = 'selected-part-item';
                item.innerHTML = 
                    '<span class="selected-part-name">' + part.name + '</span>' +
                    '<span class="selected-part-price">' + formatPrice(part.price) + '</span>';
                selectedPartsListDiv.appendChild(item);
            });
            
            // 총 가격 추가
            var totalDiv = document.createElement('div');
            totalDiv.className = 'selected-total';
            totalDiv.innerHTML = 
                '<span class="selected-total-label">총 견적 가격</span>' +
                '<span class="selected-total-price">' + formatPrice(totalPrice) + '</span>';
            selectedPartsListDiv.appendChild(totalDiv);
        }

        function togglePart(id) {
            var part = parts.find(function(p) {
                return p.id === id;
            });
            if (!part) return;
            
            // 선택하려는 경우 중복 카테고리 체크
            if (!part.selected) {
                var selectedParts = parts.filter(function(p) {
                    return p.selected;
                });
                
                // 선택하려는 부품의 카테고리
                var newCategories = part.category;
                
                // 이미 선택된 부품들의 카테고리 확인
                for (var i = 0; i < selectedParts.length; i++) {
                    var selectedPart = selectedParts[i];
                    for (var j = 0; j < selectedPart.category.length; j++) {
                        var selectedCategory = selectedPart.category[j];
                        for (var k = 0; k < newCategories.length; k++) {
                            if (newCategories[k] === selectedCategory) {
                                alert('이미 "' + selectedCategory + '" 카테고리의 부품이 선택되어 있습니다.\n(' + selectedPart.name + ')');
                                return;
                            }
                        }
                    }
                }
            }
            
            part.selected = !part.selected;
            renderParts();
            updateSummary();
        }

        function renderParts() {
            var partsList = document.getElementById('partsList');
            partsList.innerHTML = '';

            // 필터링된 부품들
            var filteredParts = parts.filter(function(part) {
                if (currentFilter === 'all') return true;
                return part.category.indexOf(currentFilter) !== -1;
            });

            if (filteredParts.length === 0) {
                partsList.innerHTML = '<div class="empty-message">해당 카테고리에 부품이 없습니다</div>';
                return;
            }

            // 카테고리별로 그룹화 (전체 보기일 때만)
            if (currentFilter === 'all') {
                var categories = ['CPU', '메인보드', 'RAM', '그래픽카드', '저장장치', '파워', '케이스', '쿨러'];
                
                categories.forEach(function(category) {
                    var categoryParts = filteredParts.filter(function(part) {
                        return part.category.indexOf(category) !== -1;
                    });
                    
                    if (categoryParts.length === 0) return;
                    
                    renderCategorySection(category, categoryParts, partsList);
                });
            } else {
                // 특정 카테고리 선택 시
                renderCategorySection(currentFilter, filteredParts, partsList);
            }
        }

        function renderCategorySection(category, categoryParts, container) {
            var categorySection = document.createElement('div');
            categorySection.className = 'category-section';
            
            var categoryHeader = document.createElement('div');
            categoryHeader.className = 'category-header';
            categoryHeader.innerHTML = '<h3 class="category-title">' + category + '</h3>';
            categorySection.appendChild(categoryHeader);
            
            var categoryItems = document.createElement('div');
            categoryItems.className = 'category-items';
            
            categoryParts.forEach(function(part) {
                var partItem = document.createElement('div');
                partItem.className = 'part-item' + (part.selected ? ' selected' : '');
                partItem.onclick = function() {
                    togglePart(part.id);
                };

                partItem.innerHTML = 
                    '<div class="checkbox">' +
                        '<svg fill="none" viewBox="0 0 24 24" stroke="currentColor">' +
                            '<path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />' +
                        '</svg>' +
                    '</div>' +
                    '<div class="part-info">' +
                        '<span class="part-name">' + part.name + '</span>' +
                    '</div>' +
                    '<div class="part-price">' + formatPrice(part.price) + '</div>';

                categoryItems.appendChild(partItem);
            });
            
            categorySection.appendChild(categoryItems);
            container.appendChild(categorySection);
        }

        renderParts();
        updateSummary();

        // 카테고리 필터 이벤트 리스너
        document.getElementById('categoryFilter').addEventListener('change', function(e) {
            setFilter(e.target.value);
        });
    </script>
</body>
</html>
